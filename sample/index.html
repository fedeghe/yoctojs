<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Yocto 0.0.1</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="style.css" />
        <script src="../dist/index.js"></script>
        <script src="index.js"></script>
    </head>
    <body>
        <section>
            <h3>Select, setAttribute</h3>
            <div class="content" id="one">
                <span>hello</span>
                <span>world</span>
                <span>foo bar</span>
            </div>
            <pre>
var t = Y('#one span')
t.style({
    color:'red'
}).setAttrs({
    title: function (el) {
        return el.innerHTML
    }
}).on('click', function (e, el) {
    Y(el).html('yeah')
})
            </pre>
        </section>
        <section>
            <h3>Select, context, toggle on click</h3>
            <div class="content" id="two">
                <button>toggle</button>
                <p>might be hidden</p>
            </div>
            <pre>
Y.setContext(Y('#two'));
var b = Y('button'),
    p = Y('p');
b.on('click', function (){
    p.toggle();
});

            </pre>
        </section>
        <section>
            <h3>Create an element, once event</h3>
            <div class="content" id="three"></div>
            <pre>
var b = Y('&lt;button\&gt;click&lt;/button&gt;'),
    p = Y('&lt;p&gt;&lt;/p&gt;');
Y('#three').append(b)   
Y('#three').append(p)
p.html('some content');

b.on('click', function (){
    p.toggle();
});
            </pre>
        </section>


        <section>
            <h3>Extend Yocto</h3>
            <div class="content" id="four" style="position:relative;height:30px"></div>
            <pre>
var b = Y('&lt;button\&gt;click&lt;/button&gt;');
Y('#four').append(b);
b.on('click', function () {
    this.move('right')
})
Y.extend(function move(where) {
    this.style({position:'absolute', [where]: '10px', top: '10px'})
});
            </pre>
        </section>
    <script>(function () {
    var socket = new WebSocket('ws://127.0.0.1:2345');

    socket.addEventListener('message', function (event) {
        var d = JSON.parse(event.data);
        if (d.reload) {
            console.log('Reloading browser: ', +new Date);
            document.location.reload()
        }
    });
    window.onbeforeunload = function() {
        console.log('closing')
        socket.onclose = function () {};
        socket.close();
    };
})()</script></body>
</html>